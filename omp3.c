// MP3. –ù–∞–ø–∏—à–∏—Ç–µ OpenMP-–ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—á–∏—Å–ª—è–µ—Ç —á–∏—Å–ª–æ ùúã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ N
// –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ñ–æ—Ä–º—É–ª—É: –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ä–∞–±–æ—Ç—É –ø–æ
// –Ω–∏—Ç—è–º —Å –ø–æ–º–æ—â—å—é OpenMP-–¥–∏—Ä–µ–∫—Ç–∏–≤—ã for.

#include <omp.h>
#include <stdio.h>

int main() {
  const long long N = 100000000;

  double pi = 0;

#pragma omp parallel for reduction(+ : pi)
  for (long long i = 0; i < N; i++) {
    double x = (i + 0.5) / N;
    pi += 4.0 / (1 + x * x);
  }

  pi /= N;
  printf("Pi: %.30f\n", pi);

  return 0;
}
